"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["custom_apps_SwagCinemaTheme_Resources_app_storefront_src_plugin_customized-product_customized-66fa13"],{10:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var s=r(206),o=r(254),n=r(966);const i="loader",a="before",c="inner";class u{constructor(e,t=a){this.parent=e instanceof Element?e:document.body.querySelector(e),this.position=t}create(){this.exists()||(this.position!==c?this.parent.insertAdjacentHTML(this._getPosition(),u.getTemplate()):this.parent.innerHTML=u.getTemplate())}remove(){const e=this.parent.querySelectorAll(`.${i}`);n.Z.iterate(e,(e=>e.remove()))}exists(){return this.parent.querySelectorAll(`.${i}`).length>0}_getPosition(){return this.position===a?"afterbegin":"beforeend"}static getTemplate(){return`<div class="${i}" role="status">\n                    <span class="visually-hidden">Loading...</span>\n                </div>`}static SELECTOR_CLASS(){return i}}const d="element-loader-backdrop";class l extends u{static create(e){e.classList.add("has-element-loader"),l.exists(e)||(l.appendLoader(e),setTimeout((()=>{const t=e.querySelector(`.${d}`);t&&t.classList.add("element-loader-backdrop-open")}),1))}static remove(e){e.classList.remove("has-element-loader");const t=e.querySelector(`.${d}`);t&&t.remove()}static exists(e){return e.querySelectorAll(`.${d}`).length>0}static getTemplate(){return`\n        <div class="${d}">\n            <div class="loader" role="status">\n                <span class="visually-hidden">Loading...</span>\n            </div>\n        </div>\n        `}static appendLoader(e){e.insertAdjacentHTML("beforeend",l.getTemplate())}}var p=r(46);const h=function(){try{const e=window.PluginManager.getPlugin("SwagCustomizedProductPriceDisplay").get("class");class t extends e{init(){this.client=new o.Z,this.priceDisplayHolder=s.Z.querySelector(document,".swag-customized-product__price-display-holder"),this.buyForm=s.Z.querySelector(document,"#productDetailPageBuyProductForm"),this.buyButton=s.Z.querySelector(this.buyForm,e.options.buyButtonSelector),this.onFormChange(),this.buyForm.addEventListener("change",p.Z.debounce(this.onFormChange.bind(this),e.options.debounceTimeout))}onFormChange(){const e=new FormData(this.buyForm);e.set("_csrf_token",this.options.csrfToken),l.create(this.priceDisplayHolder),this.client.post(this.options.url,e,this.onTemplateReceived.bind(this))}}return t}catch(e){}}()},46:(e,t,r)=>{r.d(t,{Z:()=>s});class s{static debounce(e,t,r=!1){let s;return(...o)=>{r&&!s&&setTimeout(e.bind(e,...o),0),clearTimeout(s),s=setTimeout(e.bind(e,...o),t)}}}},206:(e,t,r)=>{r.d(t,{Z:()=>o});var s=r(435);class o{static isNode(e){return"object"==typeof e&&null!==e&&(e===document||e===window||e instanceof Node)}static hasAttribute(e,t){if(!o.isNode(e))throw new Error("The element must be a valid HTML Node!");return"function"==typeof e.hasAttribute&&e.hasAttribute(t)}static getAttribute(e,t,r=!0){if(r&&!1===o.hasAttribute(e,t))throw new Error(`The required property "${t}" does not exist!`);if("function"==typeof e.getAttribute)return e.getAttribute(t);if(r)throw new Error("This node doesn't support the getAttribute function!")}static getDataAttribute(e,t,r=!0){const n=t.replace(/^data(|-)/,""),i=s.Z.toLowerCamelCase(n,"-");if(!o.isNode(e)){if(r)throw new Error("The passed node is not a valid HTML Node!");return}if(void 0===e.dataset){if(r)throw new Error("This node doesn't support the dataset attribute!");return}const a=e.dataset[i];if(void 0===a){if(r)throw new Error(`The required data attribute "${t}" does not exist on ${e}!`);return a}return s.Z.parsePrimitive(a)}static querySelector(e,t,r=!0){if(r&&!o.isNode(e))throw new Error("The parent node is not a valid HTML Node!");const s=e.querySelector(t)||!1;if(r&&!1===s)throw new Error(`The required element "${t}" does not exist in parent node!`);return s}static querySelectorAll(e,t,r=!0){if(r&&!o.isNode(e))throw new Error("The parent node is not a valid HTML Node!");let s=e.querySelectorAll(t);if(0===s.length&&(s=!1),r&&!1===s)throw new Error(`At least one item of "${t}" must exist in parent node!`);return s}}},966:(e,t,r)=>{r.d(t,{Z:()=>s});class s{static iterate(e,t){if(e instanceof Map)return e.forEach(t);if(Array.isArray(e))return e.forEach(t);if(!(e instanceof FormData)){if(e instanceof NodeList)return e.forEach(t);if(e instanceof HTMLCollection)return Array.from(e).forEach(t);if(e instanceof Object)return Object.keys(e).forEach((r=>{t(e[r],r)}));throw new Error(`The element type ${typeof e} is not iterable!`)}for(var r of e.entries())t(r[1],r[0])}}},435:(e,t,r)=>{r.d(t,{Z:()=>s});class s{static ucFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}static lcFirst(e){return e.charAt(0).toLowerCase()+e.slice(1)}static toDashCase(e){return e.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()}static toLowerCamelCase(e,t){const r=s.toUpperCamelCase(e,t);return s.lcFirst(r)}static toUpperCamelCase(e,t){if(!t)return s.ucFirst(e.toLowerCase());return e.split(t).map((e=>s.ucFirst(e.toLowerCase()))).join("")}static parsePrimitive(e){try{return/^\d+(.|,)\d+$/.test(e)&&(e=e.replace(",",".")),JSON.parse(e)}catch(t){return e.toString()}}}},254:(e,t,r)=>{r.d(t,{Z:()=>s});class s{constructor(){this._request=null}get(e,t,r="application/json"){const s=this._createPreparedRequest("GET",e,r);return this._sendRequest(s,null,t)}post(e,t,r,s="application/json"){s=this._getContentType(t,s);const o=this._createPreparedRequest("POST",e,s);return this._sendRequest(o,t,r)}delete(e,t,r,s="application/json"){s=this._getContentType(t,s);const o=this._createPreparedRequest("DELETE",e,s);return this._sendRequest(o,t,r)}patch(e,t,r,s="application/json"){s=this._getContentType(t,s);const o=this._createPreparedRequest("PATCH",e,s);return this._sendRequest(o,t,r)}abort(){if(this._request)return this._request.abort()}_registerOnLoaded(e,t){t&&e.addEventListener("loadend",(()=>{t(e.responseText,e)}))}_sendRequest(e,t,r){return this._registerOnLoaded(e,r),e.send(t),e}_getContentType(e,t){return e instanceof FormData&&(t=!1),t}_createPreparedRequest(e,t,r){return this._request=new XMLHttpRequest,this._request.open(e,t),this._request.setRequestHeader("X-Requested-With","XMLHttpRequest"),r&&this._request.setRequestHeader("Content-type",r),this._request}}}}]);