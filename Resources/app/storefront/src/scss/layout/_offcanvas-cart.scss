// SwagCinemaTheme Copyright (C) 2025 shopware AG

$offcanvas-cart-spacing: 20px;

.cart-offcanvas {
    @include media-breakpoint-up(md) {
        .offcanvas-content-container {
            width: 30rem;
        }
    }

    .offcanvas-cart {
        .alert {
            margin-top: 0;
        }

        .offcanvas-cart-header {
            @extend .align-items-start;
            flex-direction: column;
            font-size: $h5-font-size;
            color: $gray-700;
            line-height: 1;

            .offcanvas-cart-header-count {
                font-size: 20px;
                font-style: italic;
                color: $sw-text-color;
            }
        }

        .offcanvas-cart-items {
            border-top: $border-width solid $border-color-bold;
            border-bottom: $border-width solid $border-color-bold;
            margin: 0;
            padding-top: 10px;

            .cart-item:last-child {
                border-bottom: none;
            }

            .cart-item-row {
                position: relative;
            }

            .cart-item-price {
                margin-left: 0;
            }

            .cart-item-details {
                margin-bottom: 0;
                padding-left: 0;
                flex: 0 0 calc(100% - 88px);
                max-width: none;

                @include media-breakpoint-up(md) {
                    flex: 0 0 calc(100% - 110px);
                }

                /* stylelint-disable max-nesting-depth */
                .cart-item-details-container {
                    @extend .ps-md-0, .ps-lg-3;
                    padding-left: 20px;
                }
                /* stylelint-enable */
            }

            .cart-item-customized-products {
                .cart-item-quantity {
                    padding-left: 8px;
                }
            }

            .line-item {
                padding: 24px 0;
            }
        }

        .cart-item-remove {
            right: 2px;
            top: 0;

            @include media-breakpoint-down(sm) {
                svg {
                    left: 5px;
                }
            }
        }

        .offcanvas-summary {
            margin: 12px 0 8px;

            .offcanvas-summary-list {
                margin: 0 0 10px;
                border-bottom: $border-width-sm solid $border-color;

                .summary-total {
                    padding: 0;
                    font-size: 20px;
                }
            }

            .shipping-cost {
                font-weight: $font-weight-medium;
            }

            .js-toggle-shipping-selection {
                text-decoration: none;
                color: $sw-color-brand-primary;
                font-size: $font-size-sm;
            }
        }

        .offcanvas-cart-tax {
            color: $sw-text-color;
        }

        .offcanvas-cart-actions {
            border-top: $border-width solid $border-color-bold;
            padding-top: $offcanvas-cart-spacing;

            .offcanvas-cart-promotion-form {
                margin-bottom: $offcanvas-cart-spacing;

                .input-group {
                    @extend .input-group-lg;

                    /* stylelint-disable max-nesting-depth */
                    .btn {
                        padding-top: 4px;
                        padding-bottom: 4px;
                    }
                    /* stylelint-enable */
                }
            }

            .d-grid {
                margin-bottom: $offcanvas-cart-spacing;
            }

            .begin-checkout-btn {
                @extend .btn-lg;
                padding-top: 7px;
                padding-bottom: 7px;
            }

            .btn-link {
                padding-top: 7px;
                padding-bottom: 7px;
                border-color: $primary;
            }

            /* stylelint-disable max-nesting-depth */
            .btn-block {
                @extend .btn-lg;
                @extend .btn-outline-primary;
                margin-top: 12px;

                &.begin-checkout-btn:hover:not(:disabled) {
                    @include button-variant($primary, $primary);
                }

                &:hover {
                    text-decoration: none;
                }

                &[data-swag-paypal-express-button='true'],
                &[data-swag-paypal-installment-banner='true'] {
                    padding: 0;
                }
            }
            /* stylelint-enable */
        }

        .cart-item-quantity {
            .form-select {
                color: $gray-400;
                font-weight: $font-weight-medium;
                width: 80px;
                background: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='24px' height='24px' viewBox='0 0 17 10' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3EDF99222F-62F8-4FD1-8CC4-EB74312C09A0@1x%3C/title%3E%3Cg id='Overviews' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Font-Family' transform='translate(-622.000000, -684.000000)' fill='%23637182'%3E%3Cg id='Group' transform='translate(617.000000, 675.000000)'%3E%3Cg id='4_Icons/Default/Arrow/chevron-down-s' transform='translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) '%3E%3Cpath d='M6.70710678,9.29289322 C6.31658249,8.90236893 5.68341751,8.90236893 5.29289322,9.29289322 C4.90236893,9.68341751 4.90236893,10.3165825 5.29289322,10.7071068 L11.2928932,16.7071068 C11.6834175,17.0976311 12.3165825,17.0976311 12.7071068,16.7071068 L18.7071068,10.7071068 C19.0976311,10.3165825 19.0976311,9.68341751 18.7071068,9.29289322 C18.3165825,8.90236893 17.6834175,8.90236893 17.2928932,9.29289322 L12,14.5857864 L6.70710678,9.29289322 Z' id='Icon'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E")
                    no-repeat right 8px center/22px 10px $input-bg;
            }
        }
    }

    .offcanvas-close {
        padding: 2px $offcanvas-cart-spacing;
        color: $sw-text-color;
        border-bottom: $border-width-sm solid $border-color;
        background: $gray-50;
        font-weight: $font-weight-medium;

        .icon {
            margin-right: 5px;
        }

        svg {
            color: $sw-text-color;
        }

        &:hover {
            border-bottom: $border-width-sm solid $border-color;
        }
    }
}
