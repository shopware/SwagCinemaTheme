.custom-select {
    &[aria-expanded="true"] {
        border-color: $primary;
        border-bottom-color: transparent;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;

        + .dropdown-menu.show {
            margin: 0;
            top: -2px !important;
            border-color: $primary;
            color: $primary;
            width: 100%;
            max-height: 200px;
            overflow: hidden;
            min-width: 0;

            &[x-placement="bottom-start"] {
                border-top: none;
                border-top-right-radius: 0;
                border-top-left-radius: 0;
            }

            ul {
                padding: 0;
                margin: 0;
                overflow: auto;
                max-height: inherit;
            }

            .dropdown-item {
                outline: none;
                cursor: pointer;
                padding: $custom-select-padding-y $custom-select-padding-x;

                &:empty {
                    padding: 0;
                    margin: 0;
                }
            }
        }
    }

    &[aria-expanded="false"] + .dropdown-menu {
        display: none;
    }
}

.was-validated {
    .custom-select[aria-expanded="true"] {
        &:invalid + .dropdown-menu.show {
            border-color: $sw-color-danger;
        }

        &:valid + .dropdown-menu.show {
            border-color: $sw-color-success;
        }
    }
}
