{% sw_extends '@Storefront/storefront/layout/navigation/offcanvas/item-link.html.twig' %}

{% set isActive = item.category.id == activeId %}
{% set hasChildren = item.category.visibleChildCount > 0 %}
{% set url = category_url(item.category) %}
{% set name = item.category.translated.name %}
{% set isRoot = activeId == context.salesChannel.navigationCategoryId %}

{% block layout_navigation_offcanvas_navigation_categories_list_category_item_link %}
    <a class="navigation-offcanvas-link nav-item nav-link{% if isActive %} active{% endif %}{% if hasChildren %} js-navigation-offcanvas-link{% endif %}{% if isRoot %} root-item{% endif %}"
       href="{{ url }}"
        {% if hasChildren %}
            data-href="{{ path('frontend.menu.offcanvas', {'navigationId': item.category.id}) }}"
        {% endif %}
       itemprop="url"
        {% if category_linknewtab(item.category) %}target="_blank"{% endif %}
       title="{{ name }}">
        {{ block('layout_navigation_offcanvas_navigation_categories_list_category_item_link_text') }}
    </a>
{% endblock %}

{% block layout_navigation_offcanvas_navigation_categories_list_category_item_link_icon %}
    <span
        class="navigation-offcanvas-link-icon js-navigation-offcanvas-loading-icon">
        {% sw_icon 'ic-arrow-right' style {'pack': 'cinema'} %}
    </span>
{% endblock %}
